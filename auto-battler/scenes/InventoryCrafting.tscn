[gd_scene load_steps=2 format=3 uid="uid://b5y1o2x7w7x0x"]

[ext_resource type="Script" path="res://scripts/ui/InventoryCrafting.gd" id="1_pqrst"]

[node name="InventoryCrafting" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_pqrst")

[node name="MainHBox" type="HBoxContainer" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="InventoryPanel" type="VBoxContainer" parent="MainHBox"]
layout_mode = 2
size_flags_horizontal = 3 # Inventory takes up space

[node name="InventoryLabel" type="Label" parent="MainHBox/InventoryPanel"]
layout_mode = 2
text = "Inventory"
horizontal_alignment = 1

[node name="InventoryGrid" type="GridContainer" parent="MainHBox/InventoryPanel"]
layout_mode = 2
size_flags_vertical = 3
columns = 4 # Example: 4 columns
# Add placeholder items (e.g., Panels or Buttons) to the grid
[node name="Item1" type="PanelContainer" parent="MainHBox/InventoryPanel/InventoryGrid"] # Changed to PanelContainer for consistency
custom_minimum_size = Vector2(50, 50)
layout_mode = 2
[node name="Label" type="Label" parent="MainHBox/InventoryPanel/InventoryGrid/Item1"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
text = "Item A"
horizontal_alignment = 1
vertical_alignment = 1


[node name="CraftingPanel" type="VBoxContainer" parent="MainHBox"]
layout_mode = 2
size_flags_horizontal = 3 # Crafting area takes up space
alignment = 1

[node name="CraftingAreaLabel" type="Label" parent="MainHBox/CraftingPanel"]
layout_mode = 2
text = "Magical Pouch (Crafting Slots)"
horizontal_alignment = 1

[node name="CraftingSlots" type="HBoxContainer" parent="MainHBox/CraftingPanel"]
layout_mode = 2
alignment = 1
# Add 5 placeholder slots (e.g., Panels)
[node name="Slot1" type="PanelContainer" parent="MainHBox/CraftingPanel/CraftingSlots"] # Changed to PanelContainer
custom_minimum_size = Vector2(60, 60)
layout_mode = 2
[node name="Label" type="Label" parent="MainHBox/CraftingPanel/CraftingSlots/Slot1"] # Added Label for display
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
text = "[Empty]"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Slot2" type="PanelContainer" parent="MainHBox/CraftingPanel/CraftingSlots"] # Changed to PanelContainer
custom_minimum_size = Vector2(60, 60)
layout_mode = 2
[node name="Label" type="Label" parent="MainHBox/CraftingPanel/CraftingSlots/Slot2"] # Added Label for display
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
text = "[Empty]"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Slot3" type="PanelContainer" parent="MainHBox/CraftingPanel/CraftingSlots"] # Added Slot3
custom_minimum_size = Vector2(60, 60)
layout_mode = 2
[node name="Label" type="Label" parent="MainHBox/CraftingPanel/CraftingSlots/Slot3"] # Added Label for display
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
text = "[Empty]"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Slot4" type="PanelContainer" parent="MainHBox/CraftingPanel/CraftingSlots"] # Added Slot4
custom_minimum_size = Vector2(60, 60)
layout_mode = 2
[node name="Label" type="Label" parent="MainHBox/CraftingPanel/CraftingSlots/Slot4"] # Added Label for display
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
text = "[Empty]"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Slot5" type="PanelContainer" parent="MainHBox/CraftingPanel/CraftingSlots"] # Added Slot5
custom_minimum_size = Vector2(60, 60)
layout_mode = 2
[node name="Label" type="Label" parent="MainHBox/CraftingPanel/CraftingSlots/Slot5"] # Added Label for display
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
text = "[Empty]"
horizontal_alignment = 1
vertical_alignment = 1


[node name="ProfessionLabel" type="Label" parent="MainHBox/CraftingPanel"]
layout_mode = 2
text = "Profession: Alchemy Lvl 5"
horizontal_alignment = 1

[node name="KnownRecipesLabel" type="Label" parent="MainHBox/CraftingPanel"]
layout_mode = 2
text = "Recipes: Potion A, Scroll B"
horizontal_alignment = 1

[node name="CraftingPreviewLabel" type="Label" parent="MainHBox/CraftingPanel"]
layout_mode = 2
text = "Output Preview: Minor Healing Potion"
horizontal_alignment = 1

[node name="CraftButton" type="Button" parent="MainHBox/CraftingPanel"]
layout_mode = 2
text = "Craft"

[node name="CraftingLogLabel" type="Label" parent="MainHBox/CraftingPanel"]
layout_mode = 2
text = "Log: Crafted Minor Healing Potion."
horizontal_alignment = 1
autowrap_mode = 3

[connection signal="pressed" from="MainHBox/CraftingPanel/CraftButton" to="." method="_on_craft_button_pressed"]
# Connections for drag-and-drop will be set up in script or dynamically
